import{r as i,j as c,R as h,c as z,d as Ce,a as he,b as ve}from"./index-DeIFAWZE.js";import{c as V}from"./utils-fNskMoFt.js";function U(e,n=[]){let t=[];function s(o,a){const l=i.createContext(a),d=t.length;t=[...t,a];const u=f=>{const{scope:g,children:x,...A}=f,v=g?.[e]?.[d]||l,C=i.useMemo(()=>A,Object.values(A));return c.jsx(v.Provider,{value:C,children:x})};u.displayName=o+"Provider";function p(f,g){const x=g?.[e]?.[d]||l,A=i.useContext(x);if(A)return A;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,p]}const r=()=>{const o=t.map(a=>i.createContext(a));return function(l){const d=l?.[e]||o;return i.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return r.scopeName=e,[s,ge(r,...n)]}function ge(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const a=s.reduce((l,{useScope:d,scopeName:u})=>{const f=d(o)[`__scope${u}`];return{...l,...f}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return t.scopeName=n.scopeName,t}function q(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Y(...e){return n=>{let t=!1;const s=e.map(r=>{const o=q(r,n);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():q(e[r],null)}}}}function S(...e){return i.useCallback(Y(...e),e)}function k(e){const n=ye(e),t=i.forwardRef((s,r)=>{const{children:o,...a}=s,l=i.Children.toArray(o),d=l.find(Ne);if(d){const u=d.props.children,p=l.map(f=>f===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:f);return c.jsx(n,{...a,ref:r,children:i.isValidElement(u)?i.cloneElement(u,void 0,p):null})}return c.jsx(n,{...a,ref:r,children:o})});return t.displayName=`${e}.Slot`,t}function ye(e){const n=i.forwardRef((t,s)=>{const{children:r,...o}=t;if(i.isValidElement(r)){const a=Re(r),l=be(o,r.props);return r.type!==i.Fragment&&(l.ref=s?Y(s,a):a),i.cloneElement(r,l)}return i.Children.count(r)>1?i.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var Ae=Symbol("radix.slottable");function Ne(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ae}function be(e,n){const t={...n};for(const s in n){const r=e[s],o=n[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...l)=>{const d=o(...l);return r(...l),d}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...e,...t}}function Re(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function Ie(e){const n=e+"CollectionProvider",[t,s]=U(n),[r,o]=t(n,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:C,children:N}=v,m=h.useRef(null),y=h.useRef(new Map).current;return c.jsx(r,{scope:C,itemMap:y,collectionRef:m,children:N})};a.displayName=n;const l=e+"CollectionSlot",d=k(l),u=h.forwardRef((v,C)=>{const{scope:N,children:m}=v,y=o(l,N),b=S(C,y.collectionRef);return c.jsx(d,{ref:b,children:m})});u.displayName=l;const p=e+"CollectionItemSlot",f="data-radix-collection-item",g=k(p),x=h.forwardRef((v,C)=>{const{scope:N,children:m,...y}=v,b=h.useRef(null),j=S(C,b),I=o(p,N);return h.useEffect(()=>(I.itemMap.set(b,{ref:b,...y}),()=>{I.itemMap.delete(b)})),c.jsx(g,{[f]:"",ref:j,children:m})});x.displayName=p;function A(v){const C=o(e+"CollectionConsumer",v);return h.useCallback(()=>{const m=C.collectionRef.current;if(!m)return[];const y=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(C.itemMap.values()).sort((I,D)=>y.indexOf(I.ref.current)-y.indexOf(D.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:u,ItemSlot:x},A,s]}function J(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e?.(r),t===!1||!r.defaultPrevented)return n?.(r)}}var E=globalThis?.document?i.useLayoutEffect:()=>{},je=z[" useInsertionEffect ".trim().toString()]||E;function F({prop:e,defaultProp:n,onChange:t=()=>{},caller:s}){const[r,o,a]=Se({defaultProp:n,onChange:t}),l=e!==void 0,d=l?e:r;{const p=i.useRef(e!==void 0);i.useEffect(()=>{const f=p.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,s])}const u=i.useCallback(p=>{if(l){const f=Ee(p)?p(e):p;f!==e&&a.current?.(f)}else o(p)},[l,e,o,a]);return[d,u]}function Se({defaultProp:e,onChange:n}){const[t,s]=i.useState(e),r=i.useRef(t),o=i.useRef(n);return je(()=>{o.current=n},[n]),i.useEffect(()=>{r.current!==t&&(o.current?.(t),r.current=t)},[t,r]),[t,s,o]}function Ee(e){return typeof e=="function"}Ce();var Pe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],P=Pe.reduce((e,n)=>{const t=k(`Primitive.${n}`),s=i.forwardRef((r,o)=>{const{asChild:a,...l}=r,d=a?t:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...l,ref:o})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function we(e,n){return i.useReducer((t,s)=>n[t][s]??t,e)}var Q=e=>{const{present:n,children:t}=e,s=_e(n),r=typeof t=="function"?t({present:s.isPresent}):i.Children.only(t),o=S(s.ref,Oe(r));return typeof t=="function"||s.isPresent?i.cloneElement(r,{ref:o}):null};Q.displayName="Presence";function _e(e){const[n,t]=i.useState(),s=i.useRef(null),r=i.useRef(e),o=i.useRef("none"),a=e?"mounted":"unmounted",[l,d]=we(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const u=w(s.current);o.current=l==="mounted"?u:"none"},[l]),E(()=>{const u=s.current,p=r.current;if(p!==e){const g=o.current,x=w(u);e?d("MOUNT"):x==="none"||u?.display==="none"?d("UNMOUNT"):d(p&&g!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,d]),E(()=>{if(n){let u;const p=n.ownerDocument.defaultView??window,f=x=>{const v=w(s.current).includes(CSS.escape(x.animationName));if(x.target===n&&v&&(d("ANIMATION_END"),!r.current)){const C=n.style.animationFillMode;n.style.animationFillMode="forwards",u=p.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=C)})}},g=x=>{x.target===n&&(o.current=w(s.current))};return n.addEventListener("animationstart",g),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{p.clearTimeout(u),n.removeEventListener("animationstart",g),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:i.useCallback(u=>{s.current=u?getComputedStyle(u):null,t(u)},[])}}function w(e){return e?.animationName||"none"}function Oe(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Me=z[" useId ".trim().toString()]||(()=>{}),Te=0;function X(e){const[n,t]=i.useState(Me());return E(()=>{t(s=>s??String(Te++))},[e]),n?`radix-${n}`:""}var O="Collapsible",[De,ee]=U(O),[$e,W]=De(O),ne=i.forwardRef((e,n)=>{const{__scopeCollapsible:t,open:s,defaultOpen:r,disabled:o,onOpenChange:a,...l}=e,[d,u]=F({prop:s,defaultProp:r??!1,onChange:a,caller:O});return c.jsx($e,{scope:t,disabled:o,contentId:X(),open:d,onOpenToggle:i.useCallback(()=>u(p=>!p),[u]),children:c.jsx(P.div,{"data-state":B(d),"data-disabled":o?"":void 0,...l,ref:n})})});ne.displayName=O;var te="CollapsibleTrigger",oe=i.forwardRef((e,n)=>{const{__scopeCollapsible:t,...s}=e,r=W(te,t);return c.jsx(P.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":B(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:n,onClick:J(e.onClick,r.onOpenToggle)})});oe.displayName=te;var H="CollapsibleContent",re=i.forwardRef((e,n)=>{const{forceMount:t,...s}=e,r=W(H,e.__scopeCollapsible);return c.jsx(Q,{present:t||r.open,children:({present:o})=>c.jsx(ke,{...s,ref:n,present:o})})});re.displayName=H;var ke=i.forwardRef((e,n)=>{const{__scopeCollapsible:t,present:s,children:r,...o}=e,a=W(H,t),[l,d]=i.useState(s),u=i.useRef(null),p=S(n,u),f=i.useRef(0),g=f.current,x=i.useRef(0),A=x.current,v=a.open||l,C=i.useRef(v),N=i.useRef(void 0);return i.useEffect(()=>{const m=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(m)},[]),E(()=>{const m=u.current;if(m){N.current=N.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const y=m.getBoundingClientRect();f.current=y.height,x.current=y.width,C.current||(m.style.transitionDuration=N.current.transitionDuration,m.style.animationName=N.current.animationName),d(s)}},[a.open,s]),c.jsx(P.div,{"data-state":B(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!v,...o,ref:p,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":A?`${A}px`:void 0,...e.style},children:v&&r})});function B(e){return e?"open":"closed"}var Le=ne,Ve=oe,Ue=re,Fe=i.createContext(void 0);function We(e){const n=i.useContext(Fe);return e||n||"ltr"}var R="Accordion",He=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[G,Be,Ge]=Ie(R),[M]=U(R,[Ge,ee]),K=ee(),se=h.forwardRef((e,n)=>{const{type:t,...s}=e,r=s,o=s;return c.jsx(G.Provider,{scope:e.__scopeAccordion,children:t==="multiple"?c.jsx(ze,{...o,ref:n}):c.jsx(qe,{...r,ref:n})})});se.displayName=R;var[ce,Ke]=M(R),[ie,Ze]=M(R,{collapsible:!1}),qe=h.forwardRef((e,n)=>{const{value:t,defaultValue:s,onValueChange:r=()=>{},collapsible:o=!1,...a}=e,[l,d]=F({prop:t,defaultProp:s??"",onChange:r,caller:R});return c.jsx(ce,{scope:e.__scopeAccordion,value:h.useMemo(()=>l?[l]:[],[l]),onItemOpen:d,onItemClose:h.useCallback(()=>o&&d(""),[o,d]),children:c.jsx(ie,{scope:e.__scopeAccordion,collapsible:o,children:c.jsx(ae,{...a,ref:n})})})}),ze=h.forwardRef((e,n)=>{const{value:t,defaultValue:s,onValueChange:r=()=>{},...o}=e,[a,l]=F({prop:t,defaultProp:s??[],onChange:r,caller:R}),d=h.useCallback(p=>l((f=[])=>[...f,p]),[l]),u=h.useCallback(p=>l((f=[])=>f.filter(g=>g!==p)),[l]);return c.jsx(ce,{scope:e.__scopeAccordion,value:a,onItemOpen:d,onItemClose:u,children:c.jsx(ie,{scope:e.__scopeAccordion,collapsible:!0,children:c.jsx(ae,{...o,ref:n})})})}),[Ye,T]=M(R),ae=h.forwardRef((e,n)=>{const{__scopeAccordion:t,disabled:s,dir:r,orientation:o="vertical",...a}=e,l=h.useRef(null),d=S(l,n),u=Be(t),f=We(r)==="ltr",g=J(e.onKeyDown,x=>{if(!He.includes(x.key))return;const A=x.target,v=u().filter($=>!$.ref.current?.disabled),C=v.findIndex($=>$.ref.current===A),N=v.length;if(C===-1)return;x.preventDefault();let m=C;const y=0,b=N-1,j=()=>{m=C+1,m>b&&(m=y)},I=()=>{m=C-1,m<y&&(m=b)};switch(x.key){case"Home":m=y;break;case"End":m=b;break;case"ArrowRight":o==="horizontal"&&(f?j():I());break;case"ArrowDown":o==="vertical"&&j();break;case"ArrowLeft":o==="horizontal"&&(f?I():j());break;case"ArrowUp":o==="vertical"&&I();break}const D=m%N;v[D].ref.current?.focus()});return c.jsx(Ye,{scope:t,disabled:s,direction:r,orientation:o,children:c.jsx(G.Slot,{scope:t,children:c.jsx(P.div,{...a,"data-orientation":o,ref:d,onKeyDown:s?void 0:g})})})}),_="AccordionItem",[Je,Z]=M(_),le=h.forwardRef((e,n)=>{const{__scopeAccordion:t,value:s,...r}=e,o=T(_,t),a=Ke(_,t),l=K(t),d=X(),u=s&&a.value.includes(s)||!1,p=o.disabled||e.disabled;return c.jsx(Je,{scope:t,open:u,disabled:p,triggerId:d,children:c.jsx(Le,{"data-orientation":o.orientation,"data-state":xe(u),...l,...r,ref:n,disabled:p,open:u,onOpenChange:f=>{f?a.onItemOpen(s):a.onItemClose(s)}})})});le.displayName=_;var de="AccordionHeader",ue=h.forwardRef((e,n)=>{const{__scopeAccordion:t,...s}=e,r=T(R,t),o=Z(de,t);return c.jsx(P.h3,{"data-orientation":r.orientation,"data-state":xe(o.open),"data-disabled":o.disabled?"":void 0,...s,ref:n})});ue.displayName=de;var L="AccordionTrigger",fe=h.forwardRef((e,n)=>{const{__scopeAccordion:t,...s}=e,r=T(R,t),o=Z(L,t),a=Ze(L,t),l=K(t);return c.jsx(G.ItemSlot,{scope:t,children:c.jsx(Ve,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":r.orientation,id:o.triggerId,...l,...s,ref:n})})});fe.displayName=L;var pe="AccordionContent",me=h.forwardRef((e,n)=>{const{__scopeAccordion:t,...s}=e,r=T(R,t),o=Z(pe,t),a=K(t);return c.jsx(Ue,{role:"region","aria-labelledby":o.triggerId,"data-orientation":r.orientation,...a,...s,ref:n,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});me.displayName=pe;function xe(e){return e?"open":"closed"}var Qe=se,Xe=le,en=ue,nn=fe,tn=me;function on({...e}){return c.jsx(Qe,{"data-slot":"accordion",...e})}function rn({className:e,...n}){return c.jsx(Xe,{"data-slot":"accordion-item",className:V("border-b last:border-b-0",e),...n})}function sn({className:e,children:n,...t}){return c.jsx(en,{className:"flex",children:c.jsxs(nn,{"data-slot":"accordion-trigger",className:V("group flex flex-1 items-start gap-2 text-left font-medium transition-all outline-none disabled:pointer-events-none disabled:opacity-50 cursor-pointer [&[data-state=open]>.plus]:hidden [&[data-state=open]>.minus]:inline",e),...t,children:[c.jsx("span",{className:"plus inline mr-1 2xl:mr-2",children:"[+]"}),c.jsx("span",{className:"minus hidden mr-1 2xl:mr-2",children:"[-]"}),c.jsx("span",{className:"underline-offset-6 2xl:underline-offset-8 decoration-dashed group-focus-visible:underline group-hover:underline",children:n})]})})}function cn({className:e,children:n,...t}){return c.jsx(tn,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden",...t,children:c.jsx("div",{className:V("pt-0",e),children:n})})}function an(e,n){const t=n.today.length>0?n.today[0]:null;t?document.title=`${e.year}年${t.name}`:document.title=`${e.year}年${e.month}月${e.day}日 ${e.weekdayZh}`}function un(){const{solar:e,lunar:n,solarTerm:t,observances:s,onThisDayEvents:r}=he();return i.useEffect(()=>{an(e,s)},[e,s]),c.jsxs("div",{children:[c.jsxs("p",{children:[e.year,"年 ",e.monthNameZh]}),c.jsxs("p",{children:[e.monthNameEn," ",e.day]}),c.jsxs("p",{children:[e.weekdayZh," | ",e.weekdayEn]}),c.jsx("hr",{}),c.jsxs("p",{children:["农历",n.year,"年 ",n.month,n.day]}),c.jsxs("p",{children:[t.name,"节气 · ",n.season,"之时"]}),s.today.length>0||s.upcoming.length>0?c.jsxs(c.Fragment,{children:[c.jsx("hr",{}),s.today.map(o=>c.jsxs("p",{children:["- ",c.jsx("span",{className:o.nameClass,children:o.name}),o.message?c.jsx("span",{className:`ml-2 ${o.messageClass}`,children:o.message}):null]},o.name)),s.upcoming.map(({observance:o,daysUntil:a})=>c.jsxs("p",{children:["- 距离",o,"还有 ",a," 天"]},o)),r.length>0?c.jsxs(c.Fragment,{children:[c.jsx("hr",{}),c.jsx(on,{type:"single",collapsible:!0,children:c.jsxs(rn,{value:"on-this-day",children:[c.jsx(sn,{children:"历史上的今天"}),c.jsx(cn,{children:r.map((o,a)=>c.jsxs("p",{children:[o.year,"年 - ",o.description]},`${o.year}-${a}`))})]})})]}):null]}):null,c.jsx("hr",{}),c.jsx("p",{children:c.jsxs(ve,{to:"/",children:[c.jsx("span",{className:"font-bold",children:"<- "}),"Back to cover"]})})]})}export{un as default};
